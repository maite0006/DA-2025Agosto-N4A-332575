<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Menú Administrador</title>
    <link rel="stylesheet" href="css/menuAdministrador.css">
    <script src='vistaWeb.js'></script>

</head>
<body>
    <script src="utilesVista.js"></script>
    <div class="sidebar">
        <button onclick="cargarVista('AltaTransito.html')">Alta tránsito</button>
        <button onclick="cargarVista('AltaBonificacionU.html')">Asignar bonificación</button>
        <button onclick="cargarVista('CambioEstadoU.html')">Cambiar estado</button>
        <button onclick="logout()">Salir</button>
    </div>

    <div class="content">
        <iframe id="iframeContenido" src="altaTransito.html"></iframe>
    </div>

    <script>

        // Logout del admin
        function logout() {
            submit('/accesoAdministrador/logout', '', 'POST');
        }
        function cargarVista(vista) {
            document.getElementById("iframeContenido").src = vista;
            sessionStorage.setItem("vistaActual", vista);
        }

         function mostrar_logoutExitoso(urlDestino) {
            window.location.href = urlDestino;
        }
        function mostrar_usuarioNoAutenticado(urlDestino) {
            window.location.href = urlDestino;
        }
        window.addEventListener("DOMContentLoaded", () => {
            const iframe = document.getElementById("iframeContenido");
            const vistaGuardada = sessionStorage.getItem("vistaActual");
            iframe.src = vistaGuardada || "AltaTransito.html"; // default si no hay vista guardada
        });

    </script>
    
</body>
</html>
